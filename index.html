<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CredentialSaver - Secure Local Password Manager">
    <meta name="theme-color" content="#4f46e5">
    <title>CredentialSaver - Secure Password Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-spinner"></div>
            <p>Loading CredentialSaver...</p>
        </div>

        <!-- Master Password Modal -->
        <div id="master-password-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="master-password-title">Master Password</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="master-password-message">Enter your master password to access your credentials.</p>
                    <form id="master-password-form">
                        <div class="form-group">
                            <label for="master-password-input">Master Password</label>
                            <div class="password-input-wrapper">
                                <input type="password" id="master-password-input" required autocomplete="current-password">
                                <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                    <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg class="eye-off-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                        <line x1="1" y1="1" x2="23" y2="23"></line>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div id="master-password-error" class="error-message hidden"></div>
                        <div class="form-actions">
                            <button type="submit" id="master-password-submit" class="btn btn-primary">Unlock</button>
                        </div>
                    </form>
                    <div id="master-password-setup" class="hidden">
                        <p class="info-message">No master password set. Create one to secure your credentials.</p>
                        <form id="master-password-setup-form">
                            <div class="form-group">
                                <label for="new-master-password">Create Master Password</label>
                                <div class="password-input-wrapper">
                                    <input type="password" id="new-master-password" required autocomplete="new-password">
                                    <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                        <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                        <svg class="eye-off-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                            <line x1="1" y1="1" x2="23" y2="23"></line>
                                        </svg>
                                    </button>
                                </div>
                                <div class="password-strength">
                                    <div class="strength-bar">
                                        <div class="strength-fill" id="master-strength-fill"></div>
                                    </div>
                                    <span class="strength-text" id="master-strength-text">Enter password</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="confirm-master-password">Confirm Master Password</label>
                                <input type="password" id="confirm-master-password" required autocomplete="new-password">
                            </div>
                            <div id="master-setup-error" class="error-message hidden"></div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Create Master Password</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="main-app" class="hidden">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left">
                    <div class="logo">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        <span>CredentialSaver</span>
                    </div>
                </div>
                <div class="header-right">
                    <button id="theme-toggle" class="icon-btn" aria-label="Toggle theme" title="Toggle dark/light mode">
                        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg class="moon-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                    <button id="tools-menu-btn" class="icon-btn" aria-label="Tools" title="Tools">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </button>
                    <div id="tools-menu" class="dropdown-menu hidden">
                        <button id="password-generator-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                <line x1="8" y1="21" x2="16" y2="21"></line>
                                <line x1="12" y1="17" x2="12" y2="21"></line>
                            </svg>
                            Password Generator
                        </button>
                        <button id="import-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Import
                        </button>
                        <button id="export-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            Export
                        </button>
                        <button id="audit-log-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            Audit Log
                        </button>
                        <div class="menu-divider"></div>
                        <button id="lock-app-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            Lock
                        </button>
                        <button id="security-info-btn" class="menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="12"></line>
                                <line x1="12" y1="16" x2="12.01" y2="16"></line>
                            </svg>
                            Security Info
                        </button>
                    </div>
                    <button id="logout-btn" class="icon-btn" aria-label="Logout" title="Logout">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Main Content -->
            <main class="app-main">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <button id="add-credential-btn" class="btn btn-primary btn-full">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Credential
                    </button>
                    
                    <div class="sidebar-section">
                        <h3>Categories</h3>
                        <nav id="category-nav" class="category-nav">
                            <button class="category-item active" data-category="all">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="14" width="7" height="7"></rect>
                                    <rect x="3" y="14" width="7" height="7"></rect>
                                </svg>
                                All Credentials
                                <span class="count" id="all-count">0</span>
                            </button>
                            <button class="category-item" data-category="social">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                                    <line x1="9" y1="9" x2="9.01" y2="9"></line>
                                    <line x1="15" y1="9" x2="15.01" y2="9"></line>
                                </svg>
                                Social Media
                                <span class="count" id="social-count">0</span>
                            </button>
                            <button class="category-item" data-category="email">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                Email
                                <span class="count" id="email-count">0</span>
                            </button>
                            <button class="category-item" data-category="banking">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                </svg>
                                Banking
                                <span class="count" id="banking-count">0</span>
                            </button>
                            <button class="category-item" data-category="shopping">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                </svg>
                                Shopping
                                <span class="count" id="shopping-count">0</span>
                            </button>
                            <button class="category-item" data-category="work">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                </svg>
                                Work
                                <span class="count" id="work-count">0</span>
                            </button>
                            <button class="category-item" data-category="other">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="12"></line>
                                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                </svg>
                                Other
                                <span class="count" id="other-count">0</span>
                            </button>
                        </nav>
                        <button id="manage-categories-btn" class="btn btn-text btn-small">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            Manage Categories
                        </button>
                    </div>
                </aside>

                <!-- Credential List -->
                <section class="credential-section">
                    <div class="section-header">
                        <h2 id="section-title">All Credentials</h2>
                        <div class="search-wrapper">
                            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                            <input type="text" id="search-input" placeholder="Search credentials..." aria-label="Search credentials">
                            <button id="clear-search" class="clear-search hidden" aria-label="Clear search">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                        <div class="view-toggle">
                            <button id="grid-view-btn" class="view-btn active" aria-label="Grid view">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="3" width="7" height="7"></rect>
                                    <rect x="14" y="14" width="7" height="7"></rect>
                                    <rect x="3" y="14" width="7" height="7"></rect>
                                </svg>
                            </button>
                            <button id="list-view-btn" class="view-btn" aria-label="List view">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="8" y1="6" x2="21" y2="6"></line>
                                    <line x1="8" y1="12" x2="21" y2="12"></line>
                                    <line x1="8" y1="18" x2="21" y2="18"></line>
                                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div id="credential-list" class="credential-list grid-view">
                        <!-- Credentials will be rendered here -->
                    </div>
                    
                    <div id="empty-state" class="empty-state hidden">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        <h3>No credentials yet</h3>
                        <p>Click "Add Credential" to store your first account.</p>
                        <button id="empty-add-btn" class="btn btn-primary">Add Your First Credential</button>
                    </div>
                </section>
            </main>
        </div>

        <!-- Add/Edit Credential Modal -->
        <div id="credential-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="credential-modal-title">Add New Credential</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="credential-form">
                        <input type="hidden" id="credential-id">
                        <div class="form-group">
                            <label for="credential-name">Account Name *</label>
                            <input type="text" id="credential-name" required placeholder="e.g., Google Account">
                        </div>
                        <div class="form-group">
                            <label for="credential-username">Email / Username *</label>
                            <input type="text" id="credential-username" required placeholder="e.g., user@example.com">
                        </div>
                        <div class="form-group">
                            <label for="credential-password">Password *</label>
                            <div class="password-input-wrapper">
                                <input type="password" id="credential-password" required placeholder="Enter password">
                                <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                    <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg class="eye-off-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                        <line x1="1" y1="1" x2="23" y2="23"></line>
                                    </svg>
                                </button>
                            </div>
                            <div class="password-strength">
                                <div class="strength-bar">
                                    <div class="strength-fill" id="password-strength-fill"></div>
                                </div>
                                <span class="strength-text" id="password-strength-text">Enter password</span>
                            </div>
                            <button type="button" id="generate-password-btn" class="btn btn-text btn-small">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                                </svg>
                                Generate Password
                            </button>
                        </div>
                        <div class="form-group">
                            <label for="credential-website">Website URL</label>
                            <input type="url" id="credential-website" placeholder="https://example.com">
                        </div>
                        <div class="form-group">
                            <label for="credential-category">Category</label>
                            <select id="credential-category">
                                <option value="other">Other</option>
                                <option value="social">Social Media</option>
                                <option value="email">Email</option>
                                <option value="banking">Banking</option>
                                <option value="shopping">Shopping</option>
                                <option value="work">Work</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="credential-notes">Notes</label>
                            <textarea id="credential-notes" rows="3" placeholder="Additional notes..."></textarea>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="credential-favorite">
                                <span>Mark as favorite</span>
                            </label>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary close-modal-btn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Credential</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Password Generator Modal -->
        <div id="password-generator-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Password Generator</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="generated-password">
                        <input type="text" id="generated-password" readonly>
                        <button id="copy-generated" class="icon-btn" title="Copy to clipboard">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                        <button id="regenerate-password" class="icon-btn" title="Regenerate">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-fill" id="gen-strength-fill"></div>
                        </div>
                        <span class="strength-text" id="gen-strength-text">Generate a password</span>
                    </div>
                    <div class="form-group">
                        <label for="password-length">Password Length: <span id="length-value">16</span></label>
                        <input type="range" id="password-length" min="8" max="64" value="16">
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="include-uppercase" checked>
                            <span>Uppercase (A-Z)</span>
                        </label>
                        <label>
                            <input type="checkbox" id="include-lowercase" checked>
                            <span>Lowercase (a-z)</span>
                        </label>
                        <label>
                            <input type="checkbox" id="include-numbers" checked>
                            <span>Numbers (0-9)</span>
                        </label>
                        <label>
                            <input type="checkbox" id="include-symbols" checked>
                            <span>Symbols (!@#$%^&*)</span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">Close</button>
                        <button type="button" id="use-password-btn" class="btn btn-primary">Use This Password</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Import Modal -->
        <div id="import-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Import Credentials</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="drop-zone" id="import-drop-zone">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p>Drag and drop your JSON file here, or click to browse</p>
                        <input type="file" id="import-file" accept=".json" hidden>
                        <button type="button" class="btn btn-secondary" id="import-browse-btn">Browse Files</button>
                    </div>
                    <div class="info-message">
                        <strong>Note:</strong> Imported credentials will be merged with existing ones. Duplicate entries will be skipped.
                    </div>
                    <div id="import-results" class="import-results hidden">
                        <h3>Import Results</h3>
                        <p id="import-summary"></p>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Export Modal -->
        <div id="export-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Export Credentials</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="warning-message">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <p><strong>Security Warning:</strong> Exported files contain unencrypted passwords. Keep them secure and delete after use.</p>
                    </div>
                    <div class="form-group">
                        <label>Export Format</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="export-format" value="json" checked>
                                <span>JSON (Recommended)</span>
                            </label>
                            <label>
                                <input type="radio" name="export-format" value="csv">
                                <span>CSV</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="export-encrypted" checked>
                            <span>Encrypt exported file with master password</span>
                        </label>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">Cancel</button>
                        <button type="button" id="export-download-btn" class="btn btn-primary">Download Export</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audit Log Modal -->
        <div id="audit-log-modal" class="modal hidden">
            <div class="modal-content large">
                <div class="modal-header">
                    <h2>Audit Log</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="audit-log-header">
                        <button id="clear-audit-log" class="btn btn-text btn-small">Clear Log</button>
                        <button id="export-audit-log" class="btn btn-text btn-small">Export Log</button>
                    </div>
                    <div id="audit-log-list" class="audit-log-list">
                        <!-- Audit log entries will be rendered here -->
                    </div>
                    <div id="audit-log-empty" class="empty-state hidden">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        <h3>No audit entries</h3>
                        <p>Your activity will be logged here.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Info Modal -->
        <div id="security-info-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Security Information</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="security-info">
                        <h3>How CredentialSaver Keeps Your Data Secure</h3>
                        <ul>
                            <li>
                                <strong>Local Storage Only:</strong> All data is stored locally in your browser using IndexedDB. No data is sent to any server.
                            </li>
                            <li>
                                <strong>AES-256 Encryption:</strong> Your credentials are encrypted using the Web Crypto API with AES-256-GCM encryption.
                            </li>
                            <li>
                                <strong>Master Password:</strong> Your master password is used to derive an encryption key. It is never stored in plain text.
                            </li>
                            <li>
                                <strong>Auto-Lock:</strong> The application locks automatically after 5 minutes of inactivity.
                            </li>
                            <li>
                                <strong>Secure Session:</strong> Decrypted data is only kept in memory while the app is unlocked.
                            </li>
                        </ul>
                        <h3>Important Security Notes</h3>
                        <div class="warning-message">
                            <p><strong>⚠️ Local Storage Limitations:</strong></p>
                            <ul>
                                <li>Clearing browser data will delete all stored credentials</li>
                                <li>Data is only accessible on this specific browser and device</li>
                                <li>Consider regular exports as backups</li>
                                <li>If you forget your master password, your data cannot be recovered</li>
                            </ul>
                        </div>
                        <h3>Best Practices</h3>
                        <ul>
                            <li>Use a strong, unique master password</li>
                            <li>Regularly export and backup your credentials</li>
                            <li>Lock the application when not in use</li>
                            <li>Keep your browser updated</li>
                            <li>Use a reputable browser with good security features</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- View Credential Modal -->
        <div id="view-credential-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="view-credential-title">Credential Details</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="credential-details">
                        <div class="detail-row">
                            <span class="label">Account Name</span>
                            <span class="value" id="view-name"></span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Email / Username</span>
                            <div class="value-with-copy">
                                <span class="value" id="view-username"></span>
                                <button class="copy-btn" data-field="username" title="Copy">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="detail-row">
                            <span class="label">Password</span>
                            <div class="value-with-copy">
                                <span class="value password-masked" id="view-password">••••••••••••</span>
                                <button class="toggle-view-password" title="Show/Hide">
                                    <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg class="eye-off-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                        <line x1="1" y1="1" x2="23" y2="23"></line>
                                    </svg>
                                </button>
                                <button class="copy-btn" data-field="password" title="Copy">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="detail-row" id="view-website-row">
                            <span class="label">Website</span>
                            <div class="value-with-copy">
                                <a href="#" class="value link" id="view-website" target="_blank" rel="noopener noreferrer"></a>
                                <button class="copy-btn" data-field="website" title="Copy">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="detail-row">
                            <span class="label">Category</span>
                            <span class="value" id="view-category"></span>
                        </div>
                        <div class="detail-row" id="view-notes-row">
                            <span class="label">Notes</span>
                            <span class="value" id="view-notes"></span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Created</span>
                            <span class="value" id="view-created"></span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Last Modified</span>
                            <span class="value" id="view-modified"></span>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">Close</button>
                        <button type="button" id="view-edit-btn" class="btn btn-primary">Edit</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="delete-modal" class="modal hidden">
            <div class="modal-content small">
                <div class="modal-header">
                    <h2>Delete Credential</h2>
                    <button class="close-modal" aria-label="Close modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="warning-message">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <p>Are you sure you want to delete <strong id="delete-credential-name"></strong>? This action cannot be undone.</p>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal-btn">Cancel</button>
                        <button type="button" id="confirm-delete-btn" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
